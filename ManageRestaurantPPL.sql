CREATE DATABASE ManageRestaurant
GO
use ManageRestaurant
go


USE MASTER 
GO
DROP DATABASE ManageRestaurant
GO



-- nhóm người dùng || phân quyền
CREATE TABLE GROUP_USER
(
	ID_GROUP VARCHAR(50) NOT NULL PRIMARY KEY,
	ROLE_USER NVARCHAR(50)NOT NULL,
	FLAG_DEL INT NOT NULL,
)
-- nhân viên
CREATE TABLE STAFF
(
	--ACCOUNT
	USERNAME_STAFF VARCHAR(50) NOT NULL PRIMARY KEY,
	PASSWORD_STAFF VARCHAR(50),
	ID_GROUP VARCHAR(50),
	--INFORMATION 
	SURNAME_STAFF NVARCHAR(100),
	NAME_STAFF NVARCHAR(100),
	GENDER_STAFF INT,-- 0: FEMALE , 1: MALE
	DATE_OF_BIRTH DATE,
	ADDRESS_STAFF NVARCHAR(MAX),
	NUMBER_PHONE VARCHAR(11),
	FLAG_DEL INT,
)


--danh mục sản phẩm || loại món
CREATE TABLE CATEGORY
(
	ID_CATEGORY VARCHAR(50) NOT NULL PRIMARY KEY,
	GROUP_CATEGORY NVARCHAR(100),
	NAME_CATEGORY NVARCHAR(100),
	FLAG_DEL INT
)
--sản phẩm || món ăn
CREATE TABLE PRODUCT
(
	ID_PRODUCT VARCHAR(50) NOT NULL PRIMARY KEY,
	ID_CATEGORY VARCHAR(50) NOT NULL ,
	NAME_PRODUCT_VN NVARCHAR(50) NOT NULL,
	NAME_PRODUCT_EN NVARCHAR(50) NOT NULL,
	PRICE_PRODUCT INT,
	IMAGE_PRODUCT VARCHAR(MAX),
	FLAG_DEL INT
)
--chi tiết sản phẩm || công thức món ăn
CREATE TABLE DETAIL_PRODUCT
(
	ID_DETAIL VARCHAR(50) NOT NULL PRIMARY KEY,
	ID_PRODUCT VARCHAR(50) NOT NULL,
	ID_INGREDIENT VARCHAR(50) NOT NULL,
	WEIGHT_DETAIL INT,
	FLAG_DEL INT
)

--nguyên vật liệu && kho
CREATE TABLE INGREDIENT
(
	ID_INGREDIENT VARCHAR(50) NOT NULL PRIMARY KEY,
	ID_SUPPLIER VARCHAR(50),
	NAME_INGREDIENT NVARCHAR(50) NOT NULL,
	INVENTORY INT,
	FLAG_DEL INT,
)


-- TIN TUC SU KIEN
CREATE TABLE NEWS
(	
	ID_NEWS VARCHAR(50) NOT NULL PRIMARY KEY,
	ID_IMAGE VARCHAR(50),
	ID_PROMOTION VARCHAR(50),
	DATE_CREATE DATE NOT NULL,
	USERNAME_STAFF VARCHAR(50) NOT NULL,
	TITLE NVARCHAR(MAX),
	CONTENT NVARCHAR(MAX),
	DATE_VISIBLE DATE,
	DATE_HIDDEN DATE,
)

CREATE TABLE IMAGE_NEWS
(	
	ID_IMAGE VARCHAR(50) NOT NULL PRIMARY KEY,
	PATH_IMAGE VARCHAR(MAX) NOT NULL,
)

-- LOẠI KHÁCH HÀNG


-- KHÁCH HÀNG
CREATE TABLE CUSTOMER
(
	ID_CUSTOMER VARCHAR(50) NOT NULL PRIMARY KEY,
	NAME_CUSTOMER NVARCHAR(50) NOT NULL,
	SURNAME_CUSTOMER NVARCHAR(50) NOT NULL,
	GENDER_CUSTOMER INT,
	DATE_CREATE DATE,
	DATE_UPDATE DATE,
	PHONE_CUSTOMER VARCHAR(11),
	MAIL_CUSTOMER VARCHAR(MAX),
	PASSWORD_CUSTOMER VARCHAR(50),
	ADDRESS_CUSTOMER NVARCHAR(MAX),
	DATE_OF_BIRTH DATE,
	POINT INT,
	TYPE_CUSTOMER NVARCHAR(50),
)







-- VÙNG THANH TOÁN 
-- HÓA ĐƠN
CREATE TABLE RECEIPT
(
	ID_RECEIPT VARCHAR(50) NOT NULL PRIMARY KEY,
	ID_VOUCHER VARCHAR(50),
	ID_CUSTOMER VARCHAR(50),
	ID_METHOD VARCHAR(50),
	DATE_CREATE DATE,
	TOTAL_PRODUCT int,
	TOTAL_PRICE int,
	POINT int,
	STATE_RECEIPT INT
)

--CHI TIẾT HÓA ĐƠN
CREATE TABLE DETAIL_RECEIPT 
(
	ID_DETAIL_RECEIPT  VARCHAR(50) not null PRIMARY KEY,
	ID_RECEIPT VARCHAR(50) not null,
	ID_PRODUCT VARCHAR(50) not null,
	QUANTITY INT,
	PRICE INT ,
)
-- PHƯƠNG THỨC THANH TOÁN 
CREATE TABLE METHOD_PAY
(
	ID_METHOD VARCHAR(50)NOT NULL PRIMARY KEY,
	USERNAME_STAFF VARCHAR(50) NOT NULL,
	DATE_CREATE DATE,
	TYPE_METHOD  VARCHAR(50)NOT NULL ,
	NAME_METHOD  NVARCHAR(50) not null,
	FLAG_DEL INT
)

CREATE TABLE VOUCHER
(
	ID_VOUCHER VARCHAR(50) NOT NULL PRIMARY KEY,
	USERNAME_STAFF VARCHAR(50) NOT NULL,
	ID_PROMOTION VARCHAR(50),
	DATE_CREATE DATE,
	DATE_START DATE,
	DATE_END DATE,
	TYPE_REDUCTION NVARCHAR(50),
	TYPE_CUSTOMER NVARCHAR(50),
	PERCENT_REDUCTION INT,
	AMOUNT_REDUCTION INT,
	QUANTITY_VOUCHER INT,
	FLAG_DEL INT,
)



-- VÙNG NHẬP HÀNG 
-- NHÀ CUNG CẤP
CREATE TABLE SUPPLIER
(
	ID_SUPPLIER VARCHAR(50) not null PRIMARY KEY,
	NAME_SUPPLIER nvarchar(MAX),
	PHONE_SUPPLIER VARCHAR(11),
	ADDRESS_SUPPLIER NVARCHAR(MAX),
	FLAG_DEL INT,
)
-- NHẬP KHẨU HÀNG HÓA
-- IOG STAND FOR IMPORT_OF_GOODS
CREATE TABLE IMPORT
(
	ID_IOG VARCHAR(50) not null PRIMARY KEY,
	ID_SUPPLIER VARCHAR(50),
	USERNAME_STAFF VARCHAR(50),
	DATE_IOG date NOT NULL,
	TOTAL_PRICE int,
	NOTE NVARCHAR(MAX),
	FLAG_DEL INT,
)
-- CHI TIẾT ĐƠN NHẬP KHẨU 
CREATE TABLE DETAIL_IMPORT
(
	ID_DETAIL_IOG  VARCHAR(50) NOT NULL PRIMARY KEY,
	ID_IOG VARCHAR(50) NOT NULL,
	ID_INGREDIENT VARCHAR(50) NOT NULL,
	ID_SUPPLIER VARCHAR(50) not null,
	PRICE INT,
	QUANTITY INT,
)

--BANG CHUONG TRINH KHUYEN MAI
CREATE TABLE PROMOTION
(
	ID_PROMOTION VARCHAR(50) NOT NULL PRIMARY KEY,--MA CHUONG TRINH KM
	NAME_PROMOTION VARCHAR(MAX),--TEN CTKM
	USERNAME_STAFF VARCHAR(50),--MA NV TAO
	DATE_CREATE DATE,--NGAY TAO
	DATE_START DATE,--NGAY BAT DAU CHUONG TRINH
	DATE_END DATE,--NGAY KET THUC CHUONG TRINH
	
)
--BANG LOAI KHACH HANG
CREATE TABLE CUSTOMER_TYPE
(
	TYPE_CUSTOMER NVARCHAR(50) NOT NULL PRIMARY KEY,--MA LOAI KHACH HANG
	NAME_TYPE NVARCHAR(50),--TEN LOAI KHACH HANG
	LEVEL_TYPE INT,--MUC KHACH HANG,VD: 0--THANH VIEN,1-BAC,2-VANG,3-BACH KIM,...
	POINT_MIN INT,--DIEM TOI THIEU CUA HANG KHACH HANG VD: THANH VIEN:0
	POINT_MAX INT,--DIEM TOI DA CUA HANG KHACH HANGVD:THANHVIEN:100
	POINT_RATE FLOAT,--TI LE TICH DIEM TREN HOA DON, VD: THANHVIEN:0.1=10%
)


BEGIN --FOREIGN KEY

--STAFF
ALTER TABLE STAFF
ADD CONSTRAINT FK_STAFF_GROUPUSER FOREIGN KEY (ID_GROUP) REFERENCES GROUP_USER(ID_GROUP)
--PRODUCT
ALTER TABLE PRODUCT
ADD CONSTRAINT FK_PRO_CATE FOREIGN KEY (ID_CATEGORY) REFERENCES CATEGORY(ID_CATEGORY)
--DETAIL PRODUCT
ALTER TABLE DETAIL_PRODUCT
ADD CONSTRAINT FK_DETAILPRO_PRO FOREIGN KEY (ID_PRODUCT) REFERENCES PRODUCT(ID_PRODUCT)
ALTER TABLE DETAIL_PRODUCT
ADD CONSTRAINT FK_DETAILPRO_INGREDIENT FOREIGN KEY (ID_INGREDIENT) REFERENCES INGREDIENT(ID_INGREDIENT)
--NEWS
ALTER TABLE NEWS
ADD CONSTRAINT FK_NEWS_IMG FOREIGN KEY (ID_IMAGE) REFERENCES IMAGE_NEWS(ID_IMAGE)

ALTER TABLE NEWS
ADD CONSTRAINT FK_NEWS_PROMO FOREIGN KEY(ID_PROMOTION) REFERENCES PROMOTION(ID_PROMOTION)

ALTER TABLE NEWS
ADD CONSTRAINT FK_NEWS_STAFF FOREIGN KEY(USERNAME_STAFF) REFERENCES STAFF(USERNAME_STAFF)
--CUSTOMER  
ALTER TABLE CUSTOMER
ADD CONSTRAINT FK_CUSTOMER_TYPE FOREIGN KEY(TYPE_CUSTOMER) REFERENCES CUSTOMER_TYPE(TYPE_CUSTOMER)


--RECEIPT

ALTER TABLE RECEIPT
ADD CONSTRAINT FK_RECEIPT_VOUCHER FOREIGN KEY (ID_VOUCHER) REFERENCES VOUCHER(ID_VOUCHER)

ALTER TABLE RECEIPT
ADD CONSTRAINT FK_RECEIPT_METHOD FOREIGN KEY (ID_METHOD) REFERENCES METHOD_PAY(ID_METHOD)

ALTER TABLE RECEIPT
ADD CONSTRAINT FK_RECEIPT_CUSTOMER FOREIGN KEY (ID_CUSTOMER) REFERENCES CUSTOMER(ID_CUSTOMER)

--DETAIL RECEIPT 
ALTER TABLE DETAIL_RECEIPT
ADD CONSTRAINT FK_DETAILRECEIPT_RECEIPT FOREIGN KEY (ID_RECEIPT) REFERENCES RECEIPT(ID_RECEIPT)

ALTER TABLE DETAIL_RECEIPT
ADD CONSTRAINT FK_DETAILRECEIPT_PRODUCT FOREIGN KEY (ID_PRODUCT) REFERENCES PRODUCT(ID_PRODUCT)

-- METHOD_PAY
ALTER TABLE METHOD_PAY
ADD CONSTRAINT FK_METHODPAY_STAFF FOREIGN KEY (USERNAME_STAFF) REFERENCES STAFF(USERNAME_STAFF)

--VOUCHER
ALTER TABLE VOUCHER
ADD CONSTRAINT FK_VOUCHER_STAFF FOREIGN KEY (USERNAME_STAFF) REFERENCES STAFF(USERNAME_STAFF)
ALTER TABLE VOUCHER
ADD CONSTRAINT FK_VOUCHER_PROMO FOREIGN KEY(ID_PROMOTION) REFERENCES PROMOTION(ID_PROMOTION)
ALTER TABLE VOUCHER
ADD CONSTRAINT FK_VOUCHER_TYPE FOREIGN KEY(TYPE_CUSTOMER) REFERENCES CUSTOMER_TYPE(TYPE_CUSTOMER)


--IMPORT_OF_GOODS
ALTER TABLE IMPORT
ADD CONSTRAINT FK_IOG_STAFF FOREIGN KEY (USERNAME_STAFF) REFERENCES STAFF(USERNAME_STAFF)

ALTER TABLE IMPORT
ADD CONSTRAINT FK_IOG_SUPPLIER FOREIGN KEY(ID_SUPPLIER) REFERENCES SUPPLIER(ID_SUPPLIER)
-- DETAIL IMPORT_OF_GOODS
ALTER TABLE DETAIL_IMPORT
ADD CONSTRAINT FK_DETAILIMPORT_IOG FOREIGN KEY(ID_IOG) REFERENCES IMPORT(ID_IOG)

ALTER TABLE DETAIL_IMPORT
ADD CONSTRAINT FK_DETAILIMPORT_INGREDIENT FOREIGN KEY(ID_INGREDIENT) REFERENCES INGREDIENT(ID_INGREDIENT)
ALTER TABLE DETAIL_IMPORT
ADD CONSTRAINT FK_DETAILIMPORT_SUPPLIER FOREIGN KEY(ID_SUPPLIER) REFERENCES SUPPLIER(ID_SUPPLIER)

-- PROMOTION
ALTER TABLE PROMOTION
ADD CONSTRAINT FK_DETAILIMPORT_STAFF FOREIGN KEY(USERNAME_STAFF) REFERENCES STAFF(USERNAME_STAFF)

END

SET DATEFORMAT DMY;

-- CATEGORY DATA
INSERT INTO CATEGORY VALUES 
('IDLMON01',N'MAIN',N'PREMIUM STEAK',0),
('IDLMON02',N'MAIN',N'PEPPER RICE',0),
('IDLMON03',N'MAIN',N'JAPANESE CLASSICS',0),
('IDLMON04',N'MAIN',N'TEPPAN PASTA',0),
('IDLMON05',N'MAIN',N'CHEESY SIZZLING RICE',0),
('IDLMON06',N'MAIN',N'SPECIAL COMBO',0),
('IDLMON07',N'SIDE',N'SIDE DISHES',0),
('IDLMON08',N'SIDE',N'ICE CREAM',0),
('IDLMON09',N'SIDE',N'DRINKS',0),
('IDLMON10',N'SIDE',N'ADD-ONS',0),
('IDLMON11',N'COMBO',N'COMBO',0)

-- PRODUCT DATA
------PRODUCT------
--PRODUCT PREMIUM STEAK---
INSERT INTO PRODUCT VALUES 
--PRODUCT PREMIUM STEAK---1
('MAMON01','IDLMON01',N'The Giant',N'Bò Mỹ Thượng Hạng',369000,'IMAGE',0),
('MAMON02','IDLMON01',N'Ribeye Steak',N'Bò Mỹ Ribeye',299000,'IMAGE',0),
('MAMON03','IDLMON01',N'Pepper Steak',N'Bò Úc Tiêu Đen',239000,'IMAGE',0),
('MAMON04','IDLMON01',N'Hitokuchi Steak',N'Mông Bò Hitokuchi',369000,'IMAGE',0),
('MAMON05','IDLMON01',N'Hamburger Eggs',N'Hamburger Với Trứng',169000,'IMAGE',0),
--PRODUCT PEPPER RICE----2
('MAMON07','IDLMON02',N'Jumbo Beef Pepper Rice',N'Cơm Bò Mỹ Siêu Khủng',149000,'IMAGE',0),
('MAMON08','IDLMON02',N'Beef Pepper Rice',N'Cơm Bò Mỹ Tiêu Đen',99000,'IMAGE',0),
('MAMON09','IDLMON02',N'Chicken Pepper Rice',N'Cơm Gà Tiêu Đen',89000,'IMAGE',0),
('MAMON10','IDLMON02',N'Salmon Pepper Rice',N'Cơm Cá Hồi Tiêu Đen',139000,'IMAGE',0),
('MAMON12','IDLMON02',N'Broccoli & Mushroom Pepper Rice',N'Cơm Chay Tiêu Đen',89000,'IMAGE',0),
--PRODUCT JAPANESE CLASSICS----3
('MAMON14','IDLMON03',N'Beef Sukiyaki',N'Bò Sốt Sukiyaki',169000,'IMAGE',0),
('MAMON17','IDLMON03',N'Salmon Sukiyaki',N'Cá Hồi Sốt Sukiyaki',219000,'IMAGE',0),
('MAMON18','IDLMON03',N'Teriyaki Chicken',N'Gà Sốt Teriyaki',149000,'IMAGE',0),
('MAMON19','IDLMON03',N'Teriyaki Salmon And Saba',N'Cá Hồi Và Cá Thu Nhật Sốt Teriyaki',209000,'IMAGE',0),
--PRODUCT TEPPAN PASTA----4
('MAMON20','IDLMON04',N'Beef Aglio Olio',N'Mì Ý Bò Sốt Aglio',139000,'IMAGE',0),
('MAMON21','IDLMON04',N'Seafood Aglio Olio',N'Mì Ý Hải Sản Sốt Aglio',119000,'IMAGE',0),
('MAMON22','IDLMON04',N'Chicken & Cheese Chicken Sausage Pasta',N'Mì Ý Gà Và Xúc Xích Phô Mai Gà',149000,'IMAGE',0),
('MAMON23','IDLMON04',N'Seafood Creamy Cheese Pasta',N'Mì Ý Hải Sản Sốt Phô Mai Kem',139000,'IMAGE',0),
--PRODUCT CHEESY ---5
('MAMON15','IDLMON05',N'Scallop & Prawn',N'VN_NAME',169000,'IMAGE',0),
('MAMON24','IDLMON05',N'Beef Hamburger & Beef',N'VN_NAME',199000,'IMAGE',0),
('MAMON25','IDLMON05',N'Scallop & Chicken',N'VN_NAME',169000,'IMAGE',0),
('MAMON26','IDLMON05',N'Broccoli & Mushroom',N'VN_NAME',169000,'IMAGE',0),
--PRODUCT SPECIAL COMBO---6
('MAMON31','IDLMON06',N'Ultimate Meat Deluxe',N'VN_NAME',299000,'IMAGE',0),
('MAMON32','IDLMON06',N'Beef Trio Deluxe',N'VN_NAME',249000,'IMAGE',0),
('MAMON33','IDLMON06',N'Meat Trio Deluxe',N'VN_NAME',199000,'IMAGE',0),
('MAMON34','IDLMON06',N'Dice Cut Beef & Chicken',N'VN_NAME',199000,'IMAGE',0),
('MAMON35','IDLMON06',N'Seafood Trio Deluxe',N'VN_NAME',179000,'IMAGE',0) ,
('MAMON37','IDLMON06',N'Salmon & Chicken',N'VN_NAME',189000,'IMAGE',0),
('MAMON38','IDLMON06',N'Saba & Chicken',N'VN_NAME',89000,'IMAGE',0),
--PRODUCT SIDE DISHES---
('MAMON59','IDLMON07','Macaroni & Cheese ',N'Mì Ông Và Phô Mai',22000,'IMAGE',0),
('MAMON60','IDLMON07','Seasonal Dessert',N'Món Tráng Miệng Theo Mùa',28000,'IMAGE',0),
('MAMON61','IDLMON07','Mashed Potato',N'Khoai Tây Nghiền',28000,'IMAGE',0),
('MAMON62','IDLMON07','Seasonal Soup',N'Súp Theo Mùa',22000,'IMAGE',0),
('MAMON63','IDLMON07','Miso Soup',N'Súp Miso Rong Biển',25000,'IMAGE',0),
--PRODUCT ICE-CREAM---
('MAMON64','IDLMON08','Vanilla',N'Kem Vani',25000,'IMAGE',0),
('MAMON65','IDLMON08','Chocolate',N'Kem Sô Cô La',25000,'IMAGE',0),
('MAMON67','IDLMON08','Strawberries & Cream',N'Kem Dâu',25000,'IMAGE',0),
--PRODUCT DRINKS---
('MAMON49','IDLMON09','Pepsi',N'Pepsi',20000,'IMAGE',0),
('MAMON50','IDLMON09','Mirinda',N'Mirinda',20000,'IMAGE',0),
('MAMON51','IDLMON09','7 Up',N'7 Up',20000,'IMAGE',0),
('MAMON52','IDLMON09','Aquafina',N'Nước Suối',20000,'IMAGE',0),
('MAMON53','IDLMON09','Nestle Milo',N'Sữa Milo',20000,'IMAGE',0),
('MAMON54','IDLMON09','Hot Green Tea',N'Trà Xanh Nóng',20000,'IMAGE',0),
--PRODUCT ADD-ONS---
('MAMON39','IDLMON10','King Oyster Mushroom',N'Nấm Sò vua',12000,'IMAGE',0),
('MAMON40','IDLMON10','Edamame',N'Đậu Nhật',7000,'IMAGE',0),
('MAMON41','IDLMON10','Cabbage',N'Bắp Cải',30000,'IMAGE',0),
('MAMON42','IDLMON10','Broccoli',N'Bông Cải Xanh',30000,'IMAGE',0),
('MAMON43','IDLMON10','Sweet Corn',N'Bắp ngọt',5000,'IMAGE',0),
('MAMON44','IDLMON10','Okra',N'Đậu Bắp',15000,'IMAGE',0),
('MAMON45','IDLMON10','Egg',N'Trứng Gà',20000,'IMAGE',0),
('MAMON46','IDLMON10','Beef',N'Bò',30000,'IMAGE',0),
('MAMONBPS1','IDLMON10','Chicken',N'Gà',12000,'IMAGE',0),
('MAMONBPS2','IDLMON10','Cheese Chicken Sausage',N'Súc Xích Gà Phô Mai',12000,'IMAGE',0),
('MAMONBJC1','IDLMON10','Salmon',N'Cá Hồi',10000,'IMAGE',0),
('MAMONBJC2','IDLMON10','Scallops',N'Sò',15000,'IMAGE',0),
('MAMON47','IDLMON10','Prawns',N'Tôm',30000,'IMAGE',0),
--PRODUCT COMBOS 
('MAMONCB01','IDLMON11','SET A',N'Combo A',30000,'IMAGE',0),
('MAMONCB02','IDLMON11','SET B',N'Combo B',40000,'IMAGE',0)

-- SUPPLIER 
INSERT INTO SUPPLIER
VALUES
('NCC01', N'Công Ty TNHH MTV Thực Phẩm Tấn Tài', '0989078678', N'904/35-904/35A, Nguyễn Duy, Phường 12, Quận 8,Tp.Hồ Chí Minh', 0),
('NCC02', N'Công Ty TNHH Thương Mại Dịch Vụ Thiên Linh Thanh', '0989675456', N'KP.Tân Hạnh, P.Phú Mỹ, TX.Phú Mỹ,Bà Rịa-Vũng Tàu', 0),
('NCC03', N'Công Ty TNHH SX TMDV Thực Phẩm Xanh Đồng Nai', '0789675678', N'Số 2778A, QL.1A, Ấp Tam Hiệp, X.Xuân Hiệp, H.Xuân Lộc,Đồng Nai', 0),
('NCC04', N'Công Ty CP Zin Food Việt Nam', '0956756789', N'TT10-39, KĐT Mới Văn Phú, P. Phú La, Q.Hà Đông,Hà Nội', 0),
('NCC05', N'Công Ty TNHH San Hà', '0978345234', N'Công Ty TNHH San Hà Số 951 Tạ Quang Bửu, P.6, Q.8,Tp.Hồ Chí Minh', 0)

--INGREDIENT
INSERT INTO INGREDIENT
VALUES
('NL0001','NCC04',N'Thịt bò Úc',1000,0),
('NL0002','NCC04',N'Thịt bò Mỹ',1000,0),
('NL0004','NCC04',N'Mông Bò Mỹ',1000,0),
('NL0005','NCC03',N'Thịt Gà Miếng',1000,0),
('NL0007','NCC02',N'Cá Hồi',1000,0),
('NL0008','NCC02',N'Cá Saba',1000,0),
('NL0009','NCC04',N'Hamburger',1000,0),
('NL0010','NCC04',N'Sườn Bò Mỹ',1000,0),
('NL0011','NCC02',N'Tôm',1000,0),
('NL0012','NCC04',N'Sausage',1000,0),
('NL0016','NCC03',N'Trứng',1000,0),
('NL0023','NCC02',N'Gạo',1000,0),
('NL0024','NCC02',N'Bột Kem',1000,0),
('NL0025','NCC03',N'Nước Ngọt',1000,0),
('NL0026','NCC01',N'BỘT KHOAI NGHIỀN',1000,0),
('NL0027','NCC01',N'Phô Mai',1000,0),
('NL0028','NCC01',N'Mì',1000,0),
('NL0029','NCC02',N'Sốt Cà Chua',1000,0),
('NL0031','NCC02',N'Sốt kem',1000,0),
('NL0032','NCC02',N'Sốt Cà ri',1000,0),
('NL0033','NCC01',N'Cải Xanh',1000,0),
('NL0034','NCC01',N'Miso Paste',1000,0),
('NL0035','NCC01',N'Vani',1000,0),
('NL0036','NCC01',N'Chocolate',1000,0),
('NL0037','NCC02',N'Strawberries',1000,0),
('NL0038','NCC02',N'Pepsi',1000,0),
('NL0039','NCC02',N'Mirinda',1000,0),
('NL0040','NCC01',N'7 Up',1000,0),
('NL0041','NCC01',N'Nước Suối',1000,0),
('NL0042','NCC01',N'Trà Xanh Nóng',1000,0),
('NL0043','NCC01',N'Nấm Sò vua',1000,0),
('NL0044','NCC02',N'Đậu Nhật',1000,0),
('NL0045','NCC02',N'Bắp Cải',1000,0),
('NL0046','NCC02',N'Sò',1000,0),
('NL0047','NCC02',N'Bắp Ngọt',1000,0),
('NL0048','NCC02',N'Đậu Bắp',1000,0)



-- DETAIL PRODUCT
INSERT INTO DETAIL_PRODUCT
(ID_DETAIL,ID_PRODUCT,ID_INGREDIENT,WEIGHT_DETAIL,FLAG_DEL)
VALUES
--The Giant
('ID001','MAMON01','NL0002',230,0),
('ID002','MAMON01','NL0023',210,0),
--Ribeye Steak
('ID006','MAMON02','NL0002',230,0),
('ID010','MAMON02','NL0023',210,0),
--Pepper Steak
('ID011','MAMON03','NL0001',130,0),
('ID015','MAMON03','NL0023',210,0),
--Hitokuchi Steak
('ID016','MAMON04','NL0004',200,0),
('ID021','MAMON04','NL0023',210,0),
--Hamburger Eggs
('ID022','MAMON05','NL0009',140,0),
('ID026','MAMON05','NL0023',210,0),
--Jumbo Beef Pepper Rice
('ID034','MAMON07','NL0002',160,0),
('ID037','MAMON07','NL0023',210,0),
--Beef Pepper Rice
('ID038','MAMON08','NL0002',80,0),
('ID041','MAMON08','NL0023',190,0),
--Chicken Pepper Rice
('ID042','MAMON09','NL0005',90,0),
('ID045','MAMON09','NL0023',190,0),
--Salmon Pepper Rice
('ID046','MAMON10','NL0007',80,0),
('ID049','MAMON10','NL0023',190,0),
--Broccoli & Mushroom Pepper Rice
('ID050','MAMON12','NL0033',80,0),
('ID053','MAMON12','NL0023',210,0),
--Beef Sukiyaki
('ID054','MAMON14','NL0002',90,0),
('ID057','MAMON14','NL0023',190,0),
--Salmon Sukiyaki
('ID058','MAMON17','NL0007',20,0),
('ID064','MAMON17','NL0023',190,0),
--Teriyaki Chicken
('ID065','MAMON18','NL0005',110,0),
('ID071','MAMON18','NL0023',210,0),
--Teriyaki Salmon And Saba
('ID072','MAMON19','NL0005',200,0),
('ID073','MAMON19','NL0008',200,0),
('ID076','MAMON19','NL0023',210,0),
--Beef Aglio Olio
('ID077','MAMON20','NL0002',80,0),
('ID078','MAMON20','NL0028',210,0),
--Seafood Aglio Olio
('ID083','MAMON21','NL0011',140,0),
('ID084','MAMON21','NL0028',210,0),
--Chicken & Cheese Chicken Sausage Pasta
('ID089','MAMON22','NL0012',100,0),
('ID090','MAMON22','NL0005',70,0),
('ID091','MAMON22','NL0028',210,0),
--Seafood Creamy Cheese Pasta
('ID099','MAMON23','NL0007',5,0),
('ID100','MAMON23','NL0011',10,0),
('ID101','MAMON23','NL0031',10,0),
('ID102','MAMON23','NL0028',210,0),
--Scallop & Prawn
('ID103','MAMON15','NL0011',200,0),
('ID104','MAMON15','NL0032',80,0),
('ID105','MAMON15','NL0023',210,0),
--Beef Hamburger & Beef
('ID106','MAMON24','NL0002',200,0),
('ID107','MAMON24','NL0032',200,0),
('ID108','MAMON24','NL0009',200,0),
('ID109','MAMON24','NL0023',210,0),
--Scallop & Chicken
('ID200','MAMON25','NL0005',20,0),
('ID208','MAMON25','NL0032',80,0),
('ID209','MAMON25','NL0023',210,0),
--Broccoli & Mushroom
('ID111','MAMON26','NL0032',200,0),
('ID112','MAMON26','NL0033',60,0),
('ID113','MAMON26','NL0016',30,0),
('ID114','MAMON26','NL0023',140,0),
---Ultimate Meat Deluxe
('ID115','MAMON31','NL0023',190,0),
('ID116','MAMON31','NL0027',20,0),
('ID117','MAMON31','NL0009',140,0),
('ID118','MAMON31','NL0016',2,0),
--Beef Trio Deluxe
('ID119','MAMON32','NL0002',80,0),
('ID120','MAMON32','NL0023',190,0),
('ID121','MAMON32','NL0027',20,0),
('ID122','MAMON32','NL0016',2,0),
--Meat Trio Deluxe
('ID123','MAMON33','NL0005',100,0),
('ID124','MAMON33','NL0023',190,0),
('ID125','MAMON33','NL0027',20,0),
('ID126','MAMON33','NL0016',2,0),
--Dice Cut Beef & Chicken
('ID127','MAMON34','NL0023',190,0),
('ID130','MAMON34','NL0007',90,0),
-- Seafood Trio Deluxe
('ID131','MAMON35','NL0023',190,0),
('ID133','MAMON35','NL0009',140,0),
('ID134','MAMON35','NL0032',90,0),
--Salmon & Chicken
('ID135','MAMON37','NL0023',190,0),
('ID137','MAMON37','NL0002',80,0),
('ID138','MAMON37','NL0009',70,0),
('ID139','MAMON37','NL0032',90,0),
--Saba & Chicken
('ID140','MAMON38','NL0023',190,0),
('ID142','MAMON38','NL0011',30,0),
('ID144','MAMON38','NL0032',90,0),

--Macaroni & Cheese
('ID145','MAMON59','NL0002',75,0),
('ID146','MAMON59','NL0012',70,0),
('ID152','MAMON59','NL0023',210,0),

--Seasonal Dessert
('ID155','MAMON60','NL0002',75,0),
('ID156','MAMON60','NL0004',75,0),
('ID157','MAMON60','NL0009',70,0),
('ID158','MAMON60','NL0023',210,0),
--Mashed Potato
('ID159','MAMON61','NL0026',5,0),

--Seasonal Soup
('ID165','MAMON62','NL0034',75,0),
--Seasonal Soup
('ID166','MAMON63','NL0034',75,0),
--Vanilla
('ID171','MAMON64','NL0024',75,0),
--Chocolate
('ID172','MAMON65','NL0024',75,0),
--Strawberries & Cream
('ID173','MAMON67','NL0024',75,0),
--Pepsi
('ID174','MAMON49','NL0025',75,0),
--Mirinda
('ID175','MAMON50','NL0025',75,0),
--7 Up
('ID176','MAMON51','NL0025',75,0),
--Aquafina
('ID177','MAMON52','NL0025',75,0),
--Nestle Milo
('ID178','MAMON53','NL0025',75,0),
--Hot Green Tea
('ID179','MAMON54','NL0025',75,0),
--King Oyster Mushroom
('ID183','MAMON39','NL0043',75,0),
--Edamame
('ID184','MAMON40','NL0044',70,0),
--Cabbage
('ID185','MAMON41','NL0045',5,0),
--Broccoli
('ID186','MAMON42','NL0033',20,0),
--Sweet Corn
('ID187','MAMON43','NL0047',20,0),
--Okra
('ID188','MAMON44','NL0048',210,0),

--Egg
('ID189','MAMON45','NL0016',190,0),
--Beef
('ID190','MAMON46','NL0002',5,0),
--Chicken
('ID191','MAMONBPS1','NL0005',5,0),
--Cheese Chicken Sausage
('ID192','MAMONBPS2','NL0012',5,0),
--Salmon
('ID193','MAMONBJC1','NL0007',40,0),
--Scallops
('ID194','MAMONBJC2','NL0046',40,0),
--Prawns
('ID195','MAMON47','NL0011',5,0),
--SET A
('ID196','MAMONCB01','NL0024',500,0),
('ID197','MAMONCB01','NL0025',500,0),
--SET B
('ID198','MAMONCB02','NL0024',500,0),
('ID199','MAMONCB02','NL0025',500,0)


--GROUP USER
INSERT INTO GROUP_USER
VALUES
('AD1','ADMIN',0),
('USER1','USER',0)

-- STAFF
INSERT INTO STAFF
(USERNAME_STAFF,PASSWORD_STAFF ,ID_GROUP,SURNAME_STAFF,NAME_STAFF,GENDER_STAFF ,
DATE_OF_BIRTH ,ADDRESS_STAFF ,NUMBER_PHONE ,FLAG_DEL)
VALUES
('NV01','123','USER1',N'Ngô Tích',N'Vinh',1,'09-09-2001',N'39/7 Trần Quang Khải , Quận 1 HCM','0977263652',0),
('NV02','123','USER1',N'Nguyễn Thị Thanh ',N'Hoa',0,'09-09-2001',N'48 Bùi Thị Xuân , Quận Tân Bình HCM','0963071488',0),
('NV03','123','USER1',N'Nguyễn Ngọc Thảo',N' Quyên',1,'09-09-2001',N'39 Trương Thị Ngào , Quận 12 HCM','0983300149',0),
('NV04','123','USER1',N'Vũ Ngọc',N' Anh',1,'09-09-2001',N'12 Lê Lợi , Quận 1 HCM','0932634971',0),
('NV05','123','USER1',N'Phạm Thị Thúy',N' Vi',1,'09-09-2001',N'140 Lê Trọng Tấn , Quận Tân Phú HCM','0346312770',0),
('NV06','123','USER1',N'Nguyễn Thị',N' Thư',1,'09-09-2001',N'167 Quang Trung , Quận Gò Vấp HCM','0348242789',0),
('NV07','123','USER1',N'Nguyễn Thị Lệ ',N'Quỳnh',1,'09-09-2001',N'42 Tây Thạnh , Quận Tân Phú HCM','0327916792',0),
('NV08','123','USER1',N'Võ Thị Tuyết',N' Nhung',1,'09-09-2001',N'52/11 Dương Đức Hiền , Quận Tân Phú HCM','0934263967',0),
('NV09','123','USER1',N'Lê Thị Tú',N' Hảo',1,'09-09-2001',N'10 Trần Quang Khải , Quận 1 HCM','0354499599',0),
('NV10','123','USER1',N'Phùng Kim',N' Yến',1,'09-09-2001',N'41 Nguyễn Ảnh Thủ , Quận 12 HCM','0909215728',0),
('NV11','123','USER1',N'Trần Ngọc',N' Hiểu',1,'09-09-2001',N'12 Độc Lập , Quận Tân Phú HCM','0938202193',0),
('NV12','123','USER1',N'Biện Hoàng',N' Vinh',1,'09-09-2001',N'09 Trần Hưng Đạo , Quận 3 HCM','0902353183',0),
('NV13','123','USER1',N'Lâm Gia',N' Huy',1,'09-09-2001',N'11 Ngô Quyền , Quận 2 HCM','0522944609',0),
('NV14','123','USER1',N'Phạm Minh',N' Toàn',1,'09-09-2001',N'12 Nguyễn Trãi , Quận 8 HCM','0901395705',0),
('NV15','123','USER1',N'Nguyễn Thị Thanh',N'Tuyền',1,'09-09-2001',N'09 Trần Vinh , Quận 6 HCM','0367531861',0),
('NV16','123','USER1',N'Đoàn Thị',N'Khánh',1,'09-09-2001',N'73 Trần Vinh , Quận 6 HCM','0367531861',0)

--METHOD_PAY
INSERT INTO METHOD_PAY 
VALUES
('METHOD01','NV01','20-5-2022', 'CASH', N'Thanh Toán Tiền Mặt',  0),
('METHOD02','NV01', '20-5-2022', 'ATM', N'Thanh Toán Thẻ Ngân Hàng', 0),
('METHOD03','NV01', '20-5-2022', 'INTERNET BANKING', N'Thanh Toán Ví Điện Tử', 0)

--PROMOTION
INSERT INTO PROMOTION
VALUES
('PROMOTION1','TEN PROMOTION','NV01','21-05-2022', '21-06-2022', '22-07-2022')
--TYPE CUSTOMER
INSERT INTO CUSTOMER_TYPE
VALUES
('TYPECUS01',N'Khách hàng thân quen',0,10,100,0.2),
('TYPECUS02',N'Khách hàng thân quen',1,10,100,0.2),
('TYPECUS03',N'Khách hàng thân quen',2,10,100,0.2)


--VOUCHER
INSERT INTO VOUCHER
VALUES
('VOUCHER010','NV01', 'PROMOTION1', '21-05-2022', '21-06-2022', '22-07-2022', 'percent','TYPECUS01','15', 50000, 10, 0)




Insert into NEWS
VALUES
('SK01', 'IM01','PROMOTION1', '22/05/2022', 'NV01', N'Khuyến mãi', N'Khi mua một dĩa rau trộn được tặng súp và kem', '20/06/2022', '22/07/2022')

--IMAGE_NEWS
Insert into IMAGE_NEWS
values
('IM01', 'HTTPS/URL')
-- CREATE VIEWS HERE

INSERT INTO CUSTOMER
VALUES
('KH01','HUNG','LY',1,'5-1-2022',NULL,'0901395705','phmtoan2005@gmail.com','123','HCM','20-5-2001',0,'TYPECUS01')



--RECEIPT
INSERT INTO RECEIPT
VALUES
('ID001','VOUCHER010','KH01','METHOD01','1-6-2022',2,235000,20,0)
--DETAIL_RECEIPT
INSERT INTO DETAIL_RECEIPT
VALUES
('CTHD01','ID001','MAMON01',1,100000),
('CTHD02','ID001','MAMON02',1,135000)
--IMPORT
INSERT INTO IMPORT
VALUES
('IOG01','NCC01','NV01','21-5-2022',500000,'TEST',0)
--DETAIL_IMPORT
INSERT INTO DETAIL_IMPORT
VALUES
('DETAILIOG01','IOG01','NL0001','NCC02',500000,1)

go
CREATE VIEW RECEIPT_FULL AS
SELECT RC.*,VC.PERCENT_REDUCTION,VC.AMOUNT_REDUCTION ,CUS.ADDRESS_CUSTOMER,CUS.MAIL_CUSTOMER,CUS.NAME_CUSTOMER,CUS.SURNAME_CUSTOMER,CUS.PHONE_CUSTOMER,
MT.NAME_METHOD,MT.TYPE_METHOD
FROM RECEIPT AS RC, VOUCHER AS VC,CUSTOMER AS CUS ,METHOD_PAY AS MT
WHERE RC.ID_VOUCHER = VC.ID_VOUCHER
AND RC.ID_CUSTOMER=CUS.ID_CUSTOMER
AND RC.ID_METHOD = MT.ID_METHOD

